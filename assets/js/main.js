const translations = {
    tr: {
        'nav-home': 'Ana Sayfa',
        'nav-about': 'Hakkımda',
        'nav-education': 'Eğitim',
        'nav-experience': 'Deneyim',
        'nav-projects': 'Projeler',
        'nav-certificates': 'Sertifikalar',
        'nav-contact': 'İletişim',
        'hero-title': 'Merhaba, ben Ayşe Begüm Canpolat',
        'hero-subtitle': 'Yazılım Mühendisi',
        'hero-btn': 'Projelerimi Gör',
        'about-title': 'Hakkımda',
        'about-text-1': 'Ben, Yazılım Mühendisliği 4. sınıf öğrencisiyim.',
        'about-text-2': 'Eğitim hayatım boyunca farklı projelerde aktif roller üstlenerek yazılım geliştirme süreçlerinde değerli deneyimler kazandım.',
        'about-text-3': 'Özellikle web geliştirme alanında uzmanlaşmaya odaklandım; bu doğrultuda staj deneyimleri edindim, projeler hayata geçirdim.',
        'about-text-4': 'Kariyerimi bir adım ileriye taşımak için yapay zeka, makine öğrenmesi ve uygulama geliştirme alanlarında kendimi geliştirmeye devam ediyor, edindiğim bilgi ve becerileri yenilikçi projelerde kullanıyorum.',
        'skills-title': 'Yetenekler',
        'about-highlight-edu': 'Eğitim',
        'about-highlight-edu-text': 'Konya Teknik Üniversitesi - Yazılım Mühendisliği',
        'about-highlight-focus': 'Odak Noktası',
        'about-highlight-focus-text': 'Web Geliştirme, Yapay Zeka, UI/UX',
        'about-highlight-contact': 'İletişim',
        'about-skill-web': 'Web Geliştirme',
        'about-skill-lang': 'Yazılım Dilleri',
        'about-skill-ai': 'Yapay Zeka',
        'about-skill-tools': 'Araçlar & Veritabanı',
        'education-title': 'Eğitim',
        'experience-title': 'Deneyim',
        'projects-title': 'Projeler',
        'certificates-title': 'Sertifikalar',
        'contact-title': 'İletişim',
        'footer-text': '&copy; 2025 Ayşe Begüm Canpolat - Tüm hakları saklıdır.',
        'view-certificate': 'Sertifikayı Görüntüle',
        'project-ime': 'IME Otomasyon Sistemi',
        'project-ime-desc': 'Konya Teknik Üniversitesi için geliştirilen İME web tabanlı otomasyon sistemi.',
        'project-housing': 'Ev Fiyat Tahmini Projesi',
        'project-housing-desc': 'Machine Learning algoritmaları ile konut fiyat tahmini yapan uygulama.',
        'project-dental': 'Akıllı Diş Kliniği Yönetim Sistemi',
        'project-dental-desc': 'Diş kliniklerine özel, web tabanlı yönetim ve takip sistemi.',
        'project-grayscale': 'Görüntü İşleme: Gri Tonlama',
        'project-grayscale-desc': 'OpenCV kullanılarak gri tonlama ve negatif dönüşüm işlemleri.',
        'project-imageprocessing': 'İleri Seviye Görüntü İşleme',
        'project-imageprocessing-desc': 'Hough dönüşümü, boyutlandırma ve filtreleme uygulaması.',
        'education-software': 'Yazılım Mühendisi - (Lisans)',
        'education-software-school': 'Konya Teknik Üniversitesi',
        'education-business': 'İşletme - (Lisans)',
        'education-business-school': 'Anadolu Üniversitesi',
        'experience-aktif-title': 'Stajyer Yazılım Mühendisi — AKTİF BANK',
        'experience-aktif-desc': 'Aktif Bank bünyesinde yazılım geliştirme ve entegrasyon süreçleri.',
        'experience-zorlu-title': 'Stajyer Yazılım Mühendisi — ZORLU HOLDİNG',
        'experience-zorlu-desc': 'Kullanıcı arayüzü iyileştirmeleri ve React geliştirme.',
        'experience-firat-title': 'Stajyer Yazılım Mühendisi — FIRAT ÜNİVERSİTESİ',
        'experience-firat-desc': 'Web geliştirme ve dijital dönüşüm projeleri.',
        'experience-nasa-title': 'Mentör — NASA SPACE APPS',
        'experience-nasa-desc': 'NASA Space Apps Challenge hackathon mentörlüğü.',
    },
    en: {
        'nav-home': 'Home',
        'nav-about': 'About',
        'nav-education': 'Education',
        'nav-experience': 'Experience',
        'nav-projects': 'Projects',
        'nav-certificates': 'Certificates',
        'nav-contact': 'Contact',
        'hero-title': 'Hi, I\'m Ayşe Begüm Canpolat',
        'hero-subtitle': 'Software Engineer',
        'hero-btn': 'View My Projects',
        'about-title': 'About Me',
        'about-text-1': 'I am a 4th-year Software Engineering student.',
        'about-text-2': 'Gained valuable experience in software development through various projects.',
        'about-text-3': 'Focusing on web development, internships, and real-world projects.',
        'about-text-4': 'Improving skills in AI, machine learning to advance my career.',
        'skills-title': 'Skills',
        'about-highlight-edu': 'Education',
        'about-highlight-edu-text': 'Konya Technical University - Software Engineering',
        'about-highlight-focus': 'Focus Area',
        'about-highlight-focus-text': 'Web Development, Artificial Intelligence, UI/UX',
        'about-highlight-contact': 'Contact',
        'about-skill-web': 'Web Development',
        'about-skill-lang': 'Software Languages',
        'about-skill-ai': 'AI & Machine Learning',
        'about-skill-tools': 'Tools & Database',
        'education-title': 'Education',
        'experience-title': 'Experience',
        'projects-title': 'Projects',
        'certificates-title': 'Certificates',
        'contact-title': 'Contact',
        'footer-text': '&copy; 2025 Ayşe Begüm Canpolat - All rights reserved.',
        'view-certificate': 'View Certificate',
        'project-ime': 'IME Automation System',
        'project-ime-desc': 'Web-based automation system for Workplace Vocational Training at KTU.',
        'project-housing': 'Housing Price Prediction',
        'project-housing-desc': 'Web app predicting housing prices using ML algorithms.',
        'project-dental': 'Smart Dental Clinic Management',
        'project-dental-desc': 'Web-based management system for dental clinics.',
        'project-grayscale': 'Image Processing: Grayscale',
        'project-grayscale-desc': 'Grayscale and negative transformation using OpenCV.',
        'project-imageprocessing': 'Advanced Image Processing',
        'project-imageprocessing-desc': 'Hough transform, resizing, and filtering techniques.',
        'education-software': 'Software Engineering - (Bachelor\'s)',
        'education-software-school': 'Konya Technical University',
        'education-business': 'Business Administration - (Bachelor\'s)',
        'education-business-school': 'Anadolu University',
        'experience-aktif-title': 'Software Engineer Intern — AKTİF BANK',
        'experience-aktif-desc': 'Software development and integration at Aktif Bank.',
        'experience-zorlu-title': 'Software Engineer Intern — ZORLU HOLDING',
        'experience-zorlu-desc': 'UI improvements and React development.',
        'experience-firat-title': 'Software Engineer Intern — FIRAT UNIVERSITY',
        'experience-firat-desc': 'Web development and digital transformation.',
        'experience-nasa-title': 'Mentor — NASA SPACE APPS',
        'experience-nasa-desc': 'Mentoring at NASA Space Apps Challenge.',
    }
};

// Project Images Configuration
const projectImages = {
    ime: [
        'https://i.hizliresim.com/ikq6q1x.png',
        'https://i.hizliresim.com/c9n8jqd.png',
        'https://i.hizliresim.com/4flwhva.png',
        'https://i.hizliresim.com/b3kn7jc.png',
        'https://i.hizliresim.com/elkxfwn.png',
        'https://i.hizliresim.com/ipe5mv3.png',
        'https://i.hizliresim.com/qz6k6ov.png'
    ],
    housing: [
        'https://i.hizliresim.com/f1kpeej.jpeg',
        'https://i.hizliresim.com/jdrigaw.png',
        'https://i.hizliresim.com/g08ol6c.png',
        'https://i.hizliresim.com/18p43ue.png',
        'https://i.hizliresim.com/ff0uj13.png'
    ],
    dental: ['https://i.hizliresim.com/cbuycsf.png'],
    grayscale: ['https://i.hizliresim.com/qq81e6y.png', 'https://i.hizliresim.com/ndurt9o.png'],
    imageprocessing: [
        'https://i.hizliresim.com/9m40gra.png',
        'https://i.hizliresim.com/aryayus.png',
        'https://i.hizliresim.com/d02ex8z.png',
        'https://i.hizliresim.com/8gku000.png',
        'https://i.hizliresim.com/dok39y9.png'
    ]
};

document.addEventListener('DOMContentLoaded', () => {
    // Language Switcher
    const langBtns = document.querySelectorAll('.lang-btn');

    function updateLanguage(lang) {
        document.documentElement.lang = lang;
        document.querySelectorAll('[data-translate]').forEach(el => {
            const key = el.getAttribute('data-translate');
            if (translations[lang][key]) {
                el.innerText = translations[lang][key];
            }
        });

        langBtns.forEach(btn => {
            if (btn.getAttribute('data-lang') === lang) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        });
        localStorage.setItem('preferredLanguage', lang);
    }

    const savedLang = localStorage.getItem('preferredLanguage') || 'tr';
    updateLanguage(savedLang);

    langBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            updateLanguage(btn.getAttribute('data-lang'));
        });
    });

    // Intersection Observer for Animations
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('show');
            }
        });
    }, { threshold: 0.1 });

    document.querySelectorAll('.hidden').forEach(el => observer.observe(el));

    // Mobile Menu
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');

    if (hamburger) {
        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            hamburger.textContent = navLinks.classList.contains('active') ? '✕' : '☰';
        });
    }

    // Modal Logic for Projects
    const modal = document.querySelector('.modal');
    const modalImg = document.querySelector('.modal-content img');
    const closeModal = document.querySelector('.close-modal');
    let currentGallery = [];
    let currentIndex = 0;

    function openModal(imgSrc) {
        if (!modalImg) return;
        modalImg.src = imgSrc;
        modal.classList.add('active');
    }

    // Project Gallery Logic
    document.querySelectorAll('.project-card').forEach(card => {
        card.addEventListener('click', () => {
            const id = card.getAttribute('data-project-id');
            if (projectImages[id]) {
                currentGallery = projectImages[id];
                currentIndex = 0;
                openModal(currentGallery[0]);
            }
        });
    });

    // Navigation inside modal (simple click to next)
    if (modalImg) {
        modalImg.addEventListener('click', () => {
            if (currentGallery.length > 1) {
                currentIndex = (currentIndex + 1) % currentGallery.length;
                modalImg.src = currentGallery[currentIndex];
            }
        });
    }

    if (closeModal) {
        closeModal.addEventListener('click', () => {
            modal.classList.remove('active');
        });
    }

    if (modal) {
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });
    }

    // Close on Escape
    window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal) modal.classList.remove('active');
    });

    // Smooth Scroll & Active Link
    const sections = document.querySelectorAll('section');
    const navItems = document.querySelectorAll('.nav-links a');

    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (scrollY >= (sectionTop - 200)) {
                current = section.getAttribute('id');
            }
        });

        navItems.forEach(li => {
            li.classList.remove('active');
            if (li.getAttribute('href') === `#${current}`) {
                li.classList.add('active');
            }
        });
    });
});
